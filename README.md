# hot-dog-app

# Содержание:
1. [Стек технологий](#Стек-технологий)
2. Установка
3. Развёртывание
4. Структура проекта


# Стек технологий
## Сервер:
1. Express
2. Objection
3. Knex
4. Pg
5. Dotenv
6. Cors
7. Eslint
8. Nodemon

## Клиент:
1. Create react app
2. Redux toolkit
3. React redux
4. Connected react router
5. Redux logger
6. Prop types
7. Semantic UI react
8. Semantic UI CSS
9. Axios
10. History
11. Moment

## База данных:
PostgreSQL

# Установка:
Перед установкой необходимо установить **PostgreSQL** и создать в ней пустую базу данных для проекта.

## Сервер:
1. В корневом каталоге выполнить команду:
```
npm i
```
2. Создать файл `.env` и добавить в него переменные согласно `.env.example`.
Примечание: Выбраный порт для сервера нужно установить вручную на клиенте в файле: `./client/src/utils/requestHelper.js` (по умолчанию порт 3000).
3. Выполнить миграцию таблицы в базу данных с помощью команды:
```
npx knex migrate:latest --esm
```
4. Для запуска сервера выполнить:
```
npm run dev
```

## Клиент:
1. Перейти в каталог `client` и выполнить команду:
```
npm i
```
2. Как и для сервера, создать файл `.env` и добавить в него переменные согласно `.env.example`
3. Для запуска клиента выполнить:
```
npm start
```

# Развёртывание
Приложеные было развёрнуто на **AWS Elasticbeanstalk** (само приложение) и **AWS RDS** (база данных). Загрузка репозитория на сервер осуществлялась с помощью **EB CLI**.
1. С помощью консоли **AWS** создать новое окружение в **Elasticbeanstalk**, а также новую БД в **RDS**
2. В настройках окружения добавить переменные окружения для доступа в БД.
3. Также, для доступа сервера в БД необходимо нстроить правила безопасности (**EC2/security groups**).
4. В корневом каталоге проекта выполнить:
```
eb init
```
и выбрать созданное окружение
5. Перед загрузкой репозитория необходимо в каталоге `client` выполнить:
```
npm run build
```
Эти изменения необходимо закоммитить.
6. Для загрузки репозитория выполнить:
```
eb deploy
```

# Структура проекта
Структура проекта обусловлена спецификой деплоя на **EB**
